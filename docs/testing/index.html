<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="theme-color" content="#e46652">

    <title>Ember.js - Testing: Introduction</title>
    <meta property="st:title" content="Testing: Introduction" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../images/favicon.png" rel="icon" type="image/png" />
    <!--[if lte IE 7 ]><link href="../stylesheets/fonts/fontello-ie7.css" rel="stylesheet" /><![endif]-->
    <link href="../stylesheets/application.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet">
    <!-- This TypeKit account is managed by @wifelette. Contact her with any issues. -->
    <script src="https://use.typekit.net/stz3kpn.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

    <link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js - ブログ" />
    
  </head>

  <body class="guides testing testing_index">

    <!--[if lt IE 9]>
      <script src="../javascripts/common-old-ie.js"></script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
      <script src="../javascripts/common-modern.js"></script>
    <!--<![endif]-->

    <header>
<nav class="navbar navbar-inverse">
 <div class="container">
  <div class="navbar-header">
   <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
        <span class="sr-only">切替</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
   <a class="navbar-brand" href="http://emberjs.com"><img src="https://glimmer-styleguide.global.ssl.fastly.net/glimmer-styleguide/master/images/ember-logo.svg" alt="home" /></a>
  </div>
  <div class="collapse navbar-collapse" id="navbar-collapse">
   <ul class="nav navbar-nav">
    <li class="dropdown">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">ドキュメント <span class="caret"></span></a>
     <ul class="dropdown-menu">
      <li><a href="http://emberjs.com/guides">ガイド</a></li>
      <li><a href="http://emberjs.com/api">APIリファレンス</a></li>
      <li role="separator" class="divider"></li>
      <li><a href="http://emberjs.com/learn">学ぶ</a></li>
     </ul>
    </li>
    <li class="dropdown">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">リリース <span class="caret"></span></a>
     <ul class="dropdown-menu">
      <li><a href="http://emberjs.com/builds">チャネル</a></li>
      <li><a href="http://emberjs.com/builds/release">-- ステーブル</a></li>
      <li><a href="http://emberjs.com/builds/beta">-- ベータ</a></li>
      <li><a href="http://emberjs.com/builds/canary">-- カナリア</a></li>
      <li role="separator" class="divider"></li>
      <li><a href="http://emberjs.com/deprecations">廃止予定</a></li>
      <li><a href="http://emberjs.com/statusboard">ステータスボード</a></li>
     </ul>
    </li>
    <li><a href="http://emberjs.com/blog">ブログ</a></li>
    <li class="dropdown">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">コミュニティ <span class="caret"></span></a>
     <ul class="dropdown-menu">
      <li><a href="http://emberjs.com/community">Emberコミュニティ</a></li>
       <li><a href="http://emberjs.com/guidelines">ガイドライン</a></li>
       <li><a href="http://github.com/emberjs/">貢献(Github)</a></li>
       <li role="separator" class="divider"></li>
       <li><a href="http://emberjs.com/community/meetups">イベント</a></li>
       <li><a href="http://jobs.emberjs.com/">採用情報</a></li>
       <li role="separator" class="divider"></li>
       <li><a href="http://emberconf.com/">Ember Conf</a></li>
     </ul>
     </li>
     <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About<span class="caret"></span></a>
      <ul class="dropdown-menu">
       <li><a href="http://emberjs.com/team">チーム</a></li>
       <li role="separator" class="divider"></li>
       <li><a href="http://emberjs.com/logos">ロゴ</a></li>
       <li><a href="http://emberjs.com/mascots">マスコット</a></li>
       <li role="separator" class="divider"></li>
       <li><a href="http://emberjs.com/ember-users">Ember採用企業</a></li>
       <li><a href="http://emberjs.com/sponsors">スポンサー</a></li>
       <li role="separator" class="divider"></li>
       <li><a href="http://emberjs.com/legal">法関連</a></li>
       <li><a href="http://emberjs.com/security">セキュリティ</a></li>
      </ul>
     </li>
   </ul>
   <form class="navbar-form navbar-right searchbox">
    <div class="input-group">
      <label for="search-input" class="control-label sr-only">検索</label>
        <input type="text"
        class="form-control search input ds-input"
        placeholder="検索..."
        id="search-input"
        role="combobox"
        aria-expanded="false"
        aria-owns="algolia-autocomplete-listbox-0"
        autocorrect="off"
        autocapitalize="none"
        spellcheck="false"
        />
        <span></span>
    </div>
   </form>
  </div>
  <!-- /.navbar-collapse -->
 </div>
 <!-- /.container-fluid -->
</nav>
</header>


    

    <main class="container">

      <aside class="sidebar">
  <input id="toc-toggle" class="toc-toggle visually-hidden" type="checkbox" />
  <label for="toc-toggle">目次 <span class="visually-hidden">切替</span></label>

  <nav class='toc-container' aria-label='table of contents'><ol class='toc-level-0 selected'><li class='toc-level-0 '><a href="#">はじめに</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../getting-started/quick-start/">クイックスタート</a></li><li class='toc-level-1 '><a href="../getting-started/">Emberのインストール</a></li><li class='toc-level-1 '><a href="../getting-started/core-concepts/">Emberのコアコンセプト</a></li><li class='toc-level-1 '><a href="../getting-started/js-primer/">JavaScript手引き</a></li></ol></li><li class='toc-level-0 '><a href="#">チュートリアル</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../tutorial/ember-cli/">アプリの作成</a></li><li class='toc-level-1 '><a href="../tutorial/acceptance-test/">プランニング</a></li><li class='toc-level-1 '><a href="../tutorial/routes-and-templates/">ルートとテンプレート</a></li><li class='toc-level-1 '><a href="../tutorial/model-hook/">モデルフック</a></li><li class='toc-level-1 '><a href="../tutorial/installing-addons/">アドオンのインストール</a></li><li class='toc-level-1 '><a href="../tutorial/simple-component/">コンポーネントの作成</a></li><li class='toc-level-1 '><a href="../tutorial/hbs-helper/">ヘルパーの作成</a></li><li class='toc-level-1 '><a href="../tutorial/ember-data/">Ember Dataを使う</a></li><li class='toc-level-1 '><a href="../tutorial/autocomplete-component/">複雑なコンポーネントの作成</a></li><li class='toc-level-1 '><a href="../tutorial/service/">サービスとユーティリティ</a></li><li class='toc-level-1 '><a href="../tutorial/subroutes/">ネストしたルートの作成</a></li><li class='toc-level-1 '><a href="../tutorial/deploying/">デプロイ</a></li></ol></li><li class='toc-level-0 '><a href="#">オブジェクトモデル</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../object-model/">Emberのオブジェクト</a></li><li class='toc-level-1 '><a href="../object-model/classes-and-instances/">クラスとインスタンス</a></li><li class='toc-level-1 '><a href="../object-model/reopening-classes-and-instances/">クラスとインスタンスの再オープン</a></li><li class='toc-level-1 '><a href="../object-model/computed-properties/">算出プロパティ</a></li><li class='toc-level-1 '><a href="../object-model/computed-properties-and-aggregate-data/">算出プロパティとデータ集計</a></li><li class='toc-level-1 '><a href="../object-model/observers/">オブザーバー</a></li><li class='toc-level-1 '><a href="../object-model/bindings/">バインディング</a></li><li class='toc-level-1 '><a href="../object-model/enumerables/">列挙型</a></li></ol></li><li class='toc-level-0 '><a href="#">ルーティング</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../routing/">はじめに</a></li><li class='toc-level-1 '><a href="../routing/defining-your-routes/">ルートの定義</a></li><li class='toc-level-1 '><a href="../routing/specifying-a-routes-model/">ルートのモデルを指定する</a></li><li class='toc-level-1 '><a href="../routing/rendering-a-template/">テンプレートの描画</a></li><li class='toc-level-1 '><a href="../routing/redirection/">リダイレクション</a></li><li class='toc-level-1 '><a href="../routing/preventing-and-retrying-transitions/">トランジションの中止と再開</a></li><li class='toc-level-1 '><a href="../routing/loading-and-error-substates/">ロード中とエラーの表示</a></li><li class='toc-level-1 '><a href="../routing/query-params/">クエリーパラメーター</a></li><li class='toc-level-1 '><a href="../routing/asynchronous-routing/">非同期ルーティング</a></li></ol></li><li class='toc-level-0 '><a href="#">テンプレート</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../templates/handlebars-basics/">Handlebarsの基礎</a></li><li class='toc-level-1 '><a href="../templates/built-in-helpers/">ビルトインヘルパー</a></li><li class='toc-level-1 '><a href="../templates/conditionals/">条件分岐</a></li><li class='toc-level-1 '><a href="../templates/displaying-a-list-of-items/">リストの表示</a></li><li class='toc-level-1 '><a href="../templates/displaying-the-keys-in-an-object/">オブジェクトのキーの表示</a></li><li class='toc-level-1 '><a href="../templates/binding-element-attributes/">要素の属性のバインディング</a></li><li class='toc-level-1 '><a href="../templates/links/">リンク</a></li><li class='toc-level-1 '><a href="../templates/actions/">アクション</a></li><li class='toc-level-1 '><a href="../templates/input-helpers/">inputヘルパー</a></li><li class='toc-level-1 '><a href="../templates/development-helpers/">開発用ヘルパー</a></li><li class='toc-level-1 '><a href="../templates/writing-helpers/">ヘルパーの作成</a></li></ol></li><li class='toc-level-0 '><a href="#">コンポーネント</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../components/defining-a-component/">コンポーネントの定義</a></li><li class='toc-level-1 '><a href="../components/the-component-lifecycle/">コンポーネントのライフサイクル</a></li><li class='toc-level-1 '><a href="../components/passing-properties-to-a-component/">コンポーネントへのプロパティの受け渡し</a></li><li class='toc-level-1 '><a href="../components/wrapping-content-in-a-component/">コンポーネント内のコンテンツをラップする</a></li><li class='toc-level-1 '><a href="../components/customizing-a-components-element/">コンポーネントの要素のカスタマイズ</a></li><li class='toc-level-1 '><a href="../components/block-params/">ブロック引数を使う</a></li><li class='toc-level-1 '><a href="../components/handling-events/">イベント処理</a></li><li class='toc-level-1 '><a href="../components/triggering-changes-with-actions/">アクションによる変更のトリガー</a></li></ol></li><li class='toc-level-0 '><a href="#">コントローラー</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../controllers/">はじめに</a></li></ol></li><li class='toc-level-0 '><a href="#">モデル</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../models/">はじめに</a></li><li class='toc-level-1 '><a href="../models/defining-models/">モデルの定義</a></li><li class='toc-level-1 '><a href="../models/finding-records/">レコード検索</a></li><li class='toc-level-1 '><a href="../models/creating-updating-and-deleting-records/">作成、更新、削除</a></li><li class='toc-level-1 '><a href="../models/relationships/">モデルの関連付け</a></li><li class='toc-level-1 '><a href="../models/pushing-records-into-the-store/">レコードをストアにプッシュする</a></li><li class='toc-level-1 '><a href="../models/handling-metadata/">メタデータの処理</a></li><li class='toc-level-1 '><a href="../models/customizing-adapters/">アダプターのカスタマイズ</a></li><li class='toc-level-1 '><a href="../models/customizing-serializers/">シリアライザのカスタマイズ</a></li></ol></li><li class='toc-level-0 '><a href="#">アプリケーション関連</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../applications/applications-and-instances/">アプリケーションとインスタンス</a></li><li class='toc-level-1 '><a href="../applications/dependency-injection/">依存性注入</a></li><li class='toc-level-1 '><a href="../applications/initializers/">イニシャライザ</a></li><li class='toc-level-1 '><a href="../applications/services/">サービス</a></li><li class='toc-level-1 '><a href="../applications/run-loop/">ランループ</a></li></ol></li><li class='toc-level-0 selected'><a href="#">Testing</a><ol class='toc-level-1 selected'><li class='toc-level-1 selected'><a href="./">Introduction</a></li><li class='toc-level-1 '><a href="acceptance/">Application Tests</a></li><li class='toc-level-1 '><a href="unit-testing-basics/">Testing Basics</a></li><li class='toc-level-1 '><a href="testing-components/">Testing Components</a></li><li class='toc-level-1 '><a href="testing-helpers/">Testing Helpers</a></li><li class='toc-level-1 '><a href="testing-controllers/">Testing Controllers</a></li><li class='toc-level-1 '><a href="testing-routes/">Testing Routes</a></li><li class='toc-level-1 '><a href="testing-models/">Testing Models</a></li></ol></li><li class='toc-level-0 '><a href="#">Ember Inspector</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../ember-inspector/">Introduction</a></li><li class='toc-level-1 '><a href="../ember-inspector/installation/">Installing the Inspector</a></li><li class='toc-level-1 '><a href="../ember-inspector/object-inspector/">Object Inspector</a></li><li class='toc-level-1 '><a href="../ember-inspector/view-tree/">The View Tree</a></li><li class='toc-level-1 '><a href="../ember-inspector/routes/">Inspecting Routes</a></li><li class='toc-level-1 '><a href="../ember-inspector/data/">Data Tab</a></li><li class='toc-level-1 '><a href="../ember-inspector/deprecations/">Tackling Deprecations</a></li><li class='toc-level-1 '><a href="../ember-inspector/info/">Library Info</a></li><li class='toc-level-1 '><a href="../ember-inspector/promises/">Debugging Promises</a></li><li class='toc-level-1 '><a href="../ember-inspector/container/">Inspecting Objects via the Container</a></li><li class='toc-level-1 '><a href="../ember-inspector/render-performance/">Rendering Performance</a></li><li class='toc-level-1 '><a href="../ember-inspector/troubleshooting/">Troubleshooting</a></li></ol></li><li class='toc-level-0 '><a href="#">Addons and Dependencies</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../addons-and-dependencies/managing-dependencies/">Managing Dependencies</a></li></ol></li><li class='toc-level-0 '><a href="#">Configuring Ember.js</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../configuring-ember/configuring-your-app/">Configuring Your App</a></li><li class='toc-level-1 '><a href="../configuring-ember/configuring-ember-cli/">Configuring Ember CLI</a></li><li class='toc-level-1 '><a href="../configuring-ember/handling-deprecations/">Handling Deprecations</a></li><li class='toc-level-1 '><a href="../configuring-ember/disabling-prototype-extensions/">Disabling Prototype Extensions</a></li><li class='toc-level-1 '><a href="../configuring-ember/specifying-url-type/">Specifying the URL Type</a></li><li class='toc-level-1 '><a href="../configuring-ember/embedding-applications/">Embedding Applications</a></li><li class='toc-level-1 '><a href="../configuring-ember/feature-flags/">Feature Flags</a></li><li class='toc-level-1 '><a href="../configuring-ember/build-targets/">Build targets</a></li><li class='toc-level-1 '><a href="../configuring-ember/debugging/">Debugging</a></li></ol></li><li class='toc-level-0 '><a href="#">Contributing to Ember.js</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../contributing/adding-new-features/">Adding New Features</a></li><li class='toc-level-1 '><a href="../contributing/repositories/">Repositories</a></li></ol></li><li class='toc-level-0 '><a href="#">Glossary</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../glossary/web-development/">Web Development</a></li></ol></li></ol></nav>

  <a href="#" class="back-to-top">&#11014; トップに戻る</a>
</aside>


      <article class="chapter">
        <h1>
          Introduction
          <a href="https://github.com/emberjs/guides/edit/master/source/testing/index.md"
             target="_blank" class="edit-page icon-pencil">編集</a>
        </h1>
        <hr>

        <p>Testing is a core part of the Ember framework and its development cycle.</p>

<p><a href="http://qunitjs.com/">QUnit</a> is the default testing framework for this guide, but others are supported too, through addons such as <a href="https://github.com/emberjs/ember-mocha">ember-mocha</a>.</p>

<p>The testing pattern presented below is consistent across different testing frameworks. Only the setup test functions from <a href="https://github.com/emberjs/ember-qunit">ember-qunit</a> needs to be replaced with the respective setup functions in the testing addon used in order to use other testing frameworks.</p>
<h3 id="toc_Unit-Tests" class="anchorable-toc">Unit Tests</h3>
<p>To get started writing tests, we start with a plain unit test. In the example below, we are testing the function <code>relativeDate()</code> by passing a mock value into the function and asserting if the output is what we expected.</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">utils/tests/relative-date-test.js</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> { module, test } from <span class="string"><span class="delimiter">'</span><span class="content">qunit</span><span class="delimiter">'</span></span>;

module(<span class="string"><span class="delimiter">'</span><span class="content">relativeDate</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(hooks) {
  test(<span class="string"><span class="delimiter">'</span><span class="content">format relative dates correctly</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(assert) {
    assert.equal(relativeDate(<span class="string"><span class="delimiter">'</span><span class="content">2018/01/28 22:24:30</span><span class="delimiter">'</span></span>), <span class="string"><span class="delimiter">'</span><span class="content">just now</span><span class="delimiter">'</span></span>);
    assert.equal(relativeDate(<span class="string"><span class="delimiter">'</span><span class="content">2018/01/28 22:23:30</span><span class="delimiter">'</span></span>), <span class="string"><span class="delimiter">'</span><span class="content">1 minute ago</span><span class="delimiter">'</span></span>);
    assert.equal(relativeDate(<span class="string"><span class="delimiter">'</span><span class="content">2018/01/28 21:23:30</span><span class="delimiter">'</span></span>), <span class="string"><span class="delimiter">'</span><span class="content">1 hour ago</span><span class="delimiter">'</span></span>);
    assert.equal(relativeDate(<span class="string"><span class="delimiter">'</span><span class="content">2018/01/27 22:23:30</span><span class="delimiter">'</span></span>), <span class="string"><span class="delimiter">'</span><span class="content">Yesterday</span><span class="delimiter">'</span></span>);
    assert.equal(relativeDate(<span class="string"><span class="delimiter">'</span><span class="content">2018/01/26 22:23:30</span><span class="delimiter">'</span></span>), <span class="string"><span class="delimiter">'</span><span class="content">2 days ago</span><span class="delimiter">'</span></span>);
  });
});
</pre></td>
</tr></table>
</div></div>
<p>Notice how there is nothing Ember specific about the test, it is just a straightforward assertion with only QUnit test code in isolation. There is no need to add any Ember specific logic since it does not require the application&#39;s container to be setup nor any user interaction.</p>

<p>Examples of Unit Tests are:</p>

<ul>
<li>The return value of a <code>getFullName</code> utility combines its <code>firstName</code> and <code>lastName</code> parameters correctly.</li>
<li>A computed property macro formats a price depending on its <code>currency</code> and <code>cents</code> dependent keys.</li>
<li>A utility function that adds padding on a string based on the value passed.</li>
</ul>

<p>Unit Tests are useful for testing pure functions where the return value is only determined by its input values, without any observable side effects.</p>
<h3 id="toc_Container-Tests" class="anchorable-toc">Container Tests</h3>
<p>If we need to test the functionality around an Ember class instance, such as a Controller, Service, or Route, we can use a container test to do that by setting up the application&#39;s container.</p>

<p>To setup the application’s container, we import the <a href="https://github.com/emberjs/ember-qunit">ember-qunit</a> addon which provides us with QUnit-specific wrappers around the helpers contained in <a href="https://github.com/emberjs/ember-test-helpers">ember-test-helpers</a>.</p>

<p>In the example below, we import the <code>setupTest</code> function from <code>ember-qunit</code> and call it with the <code>hooks</code> object to setup the test context with access to the <code>this.owner</code> property. This provides us direct container access to interact with Ember&#39;s <a href="https://guides.emberjs.com/v3.0.0/applications/dependency-injection/">Dependency Injection</a> system. Direct container access allows us to <a href="https://emberjs.com/api/ember/release/classes/ApplicationInstance/methods/lookup?anchor=lookup">lookup</a> everything in the application container, like Controllers, Routes, or Services in order to have an instance of it to test in our QUnit test module.</p>

<p>For example, the following is a Container Test for the <code>flash-messages</code> service:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">services/tests/flash-messages-test.js</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> { module, test } from <span class="string"><span class="delimiter">'</span><span class="content">qunit</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> { setupTest } from <span class="string"><span class="delimiter">'</span><span class="content">ember-qunit</span><span class="delimiter">'</span></span>;

module(<span class="string"><span class="delimiter">'</span><span class="content">Service | flash-messages</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(hooks) {
  setupTest(hooks);

  test(<span class="string"><span class="delimiter">'</span><span class="content">it buffers messages</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(assert) {
    let service = <span class="local-variable">this</span>.owner.lookup(<span class="string"><span class="delimiter">'</span><span class="content">service:flash-messages</span><span class="delimiter">'</span></span>);

    service.add(<span class="string"><span class="delimiter">'</span><span class="content">Hello</span><span class="delimiter">'</span></span>);
    service.add(<span class="string"><span class="delimiter">'</span><span class="content">World!</span><span class="delimiter">'</span></span>);

    assert.deepEqual(service.get(<span class="string"><span class="delimiter">'</span><span class="content">messages</span><span class="delimiter">'</span></span>), [<span class="string"><span class="delimiter">'</span><span class="content">Hello</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">World!</span><span class="delimiter">'</span></span>]);
  });
});
</pre></td>
</tr></table>
</div></div>
<p>Container Tests are ideal for testing Controllers, Routes, or Services where we can look up the item we want to test, apply some action unto it, and test its result.</p>

<p>Examples of Container Tests are:</p>

<ul>
<li>A <code>fullName</code> attribute on a controller is computed by combining its <code>firstName</code> and <code>lastName</code> attributes.</li>
<li>A serializer properly converts the blog request payload into a blog post model object.</li>
<li>Blog dates are properly formatted through a <code>time</code> service.</li>
</ul>

<p>You can read more about these type of tests in the <a href="./testing-routes">Testing Routes</a> and <a href="./testing-controllers">Testing Controllers</a> section.</p>
<h3 id="toc_Rendering-Tests" class="anchorable-toc">Rendering Tests</h3>
<p>If we need to test the interactions between various parts of the application, such as behaviour between UI controls we can utilize Rendering Tests. </p>

<p>Rendering Tests are, as the name suggests, rendering components and helpers by verifying the correct behaviour when the component or helper interacts with the system in the same way that it will within the context of the application, including being rendered from a template and receiving Ember&#39;s lifecycle hooks.</p>

<p>In terms of setting up the test – Rendering Tests are roughly similar to Container Tests but instead of using <code>setupTest</code> from ember-qunit, we import and invoke <code>setupRendingTest</code> to render arbitrary templates, including components and helpers (<code>setupRendingTest</code> is actually using <code>setupTest</code> underneath so everything we had from Container Tests are still applicable.)</p>

<p>For the example below, we also import the <code>render</code> and <code>click</code> functions from ember-test-helpers to show and interact with the component being tested as well as <code>hbs</code> from <a href="https://github.com/ember-cli/ember-cli-htmlbars-inline-precompile">htmlbars-inline-precompile</a> to help with inline template definitions. With these APIs, we can test clicking on this component and check if the text is successfully updated with each click.</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">components/tests/x-counter-test.js</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> { module, test } from <span class="string"><span class="delimiter">'</span><span class="content">qunit</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> { setupRenderingTest } from <span class="string"><span class="delimiter">'</span><span class="content">ember-qunit</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> { render, click } from <span class="string"><span class="delimiter">'</span><span class="content">@ember/test-helpers</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> hbs from <span class="string"><span class="delimiter">'</span><span class="content">htmlbars-inline-precompile</span><span class="delimiter">'</span></span>;

module(<span class="string"><span class="delimiter">'</span><span class="content">Component | counter</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(hooks) {
  setupRenderingTest(hooks);

  test(<span class="string"><span class="delimiter">'</span><span class="content">it should count clicks</span><span class="delimiter">'</span></span>, async <span class="keyword">function</span>(assert) {
    <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">value</span><span class="delimiter">'</span></span>, <span class="integer">0</span>);

    await render(hbs<span class="error">`</span>{{x-counter value=value onUpdate=( <span class="error">…</span> )}}<span class="error">`</span>);
    assert.equal(<span class="local-variable">this</span>.element.textContent, <span class="string"><span class="delimiter">'</span><span class="content">0 clicks</span><span class="delimiter">'</span></span>);

    await click(<span class="string"><span class="delimiter">'</span><span class="content">.counter</span><span class="delimiter">'</span></span>);
    assert.equal(<span class="local-variable">this</span>.element.textContent, <span class="string"><span class="delimiter">'</span><span class="content">1 click</span><span class="delimiter">'</span></span>);
  });
});
</pre></td>
</tr></table>
</div></div>
<p>Rendering Tests provides confidence that parts of the system will work within the application in multiple scenarios from data and actions being properly passed between different parts of the system to having the UI rendered as expected.</p>

<p>Examples of Rendering Tests are:</p>

<ul>
<li>An author&#39;s full name and date are properly displayed in a blog post.</li>
<li>A user is prevented from typing more than 50 characters into post&#39;s title field.</li>
<li>Submitting a post without a title displays a red validation state on the field and gives the user text indicating that the title is required.</li>
<li>The blog post list scrolls to position a new post at the top of the viewport.</li>
</ul>

<p>Rendering Tests are used to test Components and Helpers where we need to render a layout and assert some interaction byproduct occurs.</p>

<p>You can read more about it in the <a href="./testing-components">Testing Components</a> or the <a href="./testing-helpers">Testing Helpers</a> section.</p>
<h3 id="toc_Application-Tests" class="anchorable-toc">Application Tests</h3>
<p>Finally if we are looking to test user interaction and application flow in order to verify user stories or a feature from an end-user perspective, we can use Application Tests. In these kinds of tests, we interact with the application in the same ways that a user would, such as filling out form fields and clicking buttons. Application tests ensure that the interactions within a project are basically functional, the core features of a project have not regressed, and the project&#39;s goals are being met.</p>

<p>Similar to how Rendering Tests builds on top of Container Tests, to setup Application Tests, we import a setup method called <code>setupApplicationTest</code> from <code>ember-qunit</code> (this also uses <code>setupTest</code> underneath.) Unlike Rendering Tests, however, we import the <code>visit</code> helper from ember-test-helpers instead of the <code>render</code> helper. The visit helper is used to visit a route in the application where we need to assert some end-user behaviour.</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">tests/acceptance/post-creation-test.js</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> { module, test } from <span class="string"><span class="delimiter">'</span><span class="content">qunit</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> { setupApplicationTest } from <span class="string"><span class="delimiter">'</span><span class="content">ember-qunit</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> { visit, fillIn, click } from <span class="string"><span class="delimiter">'</span><span class="content">@ember/test-helpers</span><span class="delimiter">'</span></span>;

module(<span class="string"><span class="delimiter">'</span><span class="content">Acceptance | posts</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(hooks) {
  setupApplicationTest(hooks);

  test(<span class="string"><span class="delimiter">'</span><span class="content">should add new post</span><span class="delimiter">'</span></span>, async <span class="keyword">function</span>(assert) {
    await visit(<span class="string"><span class="delimiter">'</span><span class="content">/posts/new</span><span class="delimiter">'</span></span>);
    await fillIn(<span class="string"><span class="delimiter">'</span><span class="content">input.title</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">My new post</span><span class="delimiter">'</span></span>);
    await click(<span class="string"><span class="delimiter">'</span><span class="content">button.submit</span><span class="delimiter">'</span></span>);

    const title = <span class="local-variable">this</span>.element.querySelector(<span class="string"><span class="delimiter">'</span><span class="content">ul.posts li:first</span><span class="delimiter">'</span></span>).textContent;
    assert.equal(title, <span class="string"><span class="delimiter">'</span><span class="content">My new post</span><span class="delimiter">'</span></span>);
  });
});
</pre></td>
</tr></table>
</div></div>
<p>In the example above – the Application Test visits a route of the application, and then it fills in some information required, and then it clicks on a button. Afterwards, we are testing that this sequence of events in a certain route creates the desired effect that we want. In this case, our test looks to see if the text in the first element in a list matches what we filled in.</p>

<p>Examples of Application Tests are:</p>

<ul>
<li>A user being able to log in via the login form</li>
<li>A user is able to create a blog post.</li>
<li>After saving a new post successfully, a user is then shown the list of prior posts.</li>
<li>A visitor does not have access to the admin panel.</li>
</ul>

<p>You can read more about how to create these kinds of tests in the <a href="./acceptance">Application tests</a> section.</p>
<h3 id="toc_Testing-Blueprints" class="anchorable-toc">Testing Blueprints</h3>
<p>By default whenever you are creating a new component, helper, service, or any another module in your app,
<a href="https://ember-cli.com/generators-and-blueprints">Ember CLI</a> will automatically create a QUnit-based test file
based on the associated testing blueprint for you.
This blueprint will contain all the basic test setup necessary for testing the module you have just created
and help you get started writing your first test straight away.</p>

<p>Imagine we create a new <code>location</code> service by running <code>ember generate service location</code>.
If we have a look at the newly created blueprint under <code>tests/unit/services/location-test.js</code> we&#39;ll find the following:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">tests/unit/models/some-thing-test.js</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> { module, test } from <span class="string"><span class="delimiter">'</span><span class="content">qunit</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> { setupTest } from <span class="string"><span class="delimiter">'</span><span class="content">ember-qunit</span><span class="delimiter">'</span></span>;

module(<span class="string"><span class="delimiter">'</span><span class="content">Unit | Service | location</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(hooks) {
  setupTest(hooks);

  <span class="comment">// Replace this with your real tests.</span>
  test(<span class="string"><span class="delimiter">'</span><span class="content">it exists</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(assert) {
    let service = <span class="local-variable">this</span>.owner.lookup(<span class="string"><span class="delimiter">'</span><span class="content">service:location</span><span class="delimiter">'</span></span>);
    assert.ok(service);
  });
});
</pre></td>
</tr></table>
</div></div>
<p>Note how this test setup follows a nested structure.
Each test case will be wrapped by a <a href="https://api.qunitjs.com/QUnit/module">QUnit.module</a> function
which allows us to scope several tests into a group.
We can now apply the same testing setup to all tests in this test group easily,
or we can run those tests independently from the rest of the test suite.</p>
<h3 id="toc_How-to-Run-Your-Tests" class="anchorable-toc">How to Run Your Tests</h3>
<p>Run your tests with <code>ember test</code> on the command-line. You can re-run your tests on every file-change with <code>ember test --server</code>.</p>

<p>Tests can also be executed when you are running a local development server (started by running <code>ember server</code>),
at the <code>/tests</code> URI which renders the <code>tests/index.html</code> template.
A word of caution using this approach:
Tests run using <code>ember server</code> have the environment configuration <code>development</code>,
whereas tests executed under <code>ember test --server</code> are run with the configuration <code>test</code>.
This could cause differences in execution, such as which libraries are loaded and available.
Therefore it&#39;s recommended that you use <code>ember test --server</code> for test execution.</p>

<p>These commands run your tests using <a href="https://github.com/airportyh/testem">Testem</a> to make testing multiple browsers very easy.
You can configure Testem using the <code>testem.js</code> file in your application root.</p>
<h4 id="toc_Choosing-the-Tests-to-Run" class="anchorable-toc">Choosing the Tests to Run</h4>
<p>To run a subset of your tests by title use the <code>--filter</code> option.
Quickly test your current work <code>ember test --filter=&quot;dashboard&quot;</code>, or only run a certain type of test <code>ember test --filter=&quot;integration&quot;</code>.
When using QUnit it is possible to exclude tests by adding an exclamation point to the beginning of the filter <code>ember test --filter=&quot;!acceptance&quot;</code>.</p>

<p>You can also run a group of tests which you have scoped with a <code>module</code> before; e.g. for testing the module called <code>Unit | Service | location</code> only,
run <code>ember test --module=&#39;Unit | Service | location&#39;</code>.</p>



        
      <footer>
        <a href="../applications/run-loop/" class="previous-guide">ランループ</a> <a href="acceptance/" class="next-guide">Application Tests</a>
      </footer>
      
      </article>
    </main>

    <div class="footer">
  <div class="container">
    <div class="footer-info">
      Copyright 2018
      <a href="http://tilde.io">Tilde Inc.</a>
      <br>
      <a href="http://emberjs.com/team">コアチーム</a> |
      <a href="http://emberjs.com/sponsors">スポンサー</a>
      <br>
      <a href="http://emberjs.com/security">セキュリティ</a> |
      <a href="http://emberjs.com/legal">法関連</a> |
      <a href="http://emberjs.com/logos">ロゴ</a>
      <br>
      <a href="http://emberjs.com/guidelines">コミュニティガイドライン</a>
    </div>

    <div class="footer-statement">
      Ember.js is free, open source and always will be.
    </div>

    <div class="footer-social">
      <a href="http://twitter.com/emberjs"
        title="Twitter">
        <i class="icon-twitter"></i>
      </a>
      <a href="https://github.com/emberjs/ember.js"
        title="GitHub">
        <i class="icon-github"></i>
      </a>
      <a href="https://plus.google.com/communities/106387049790387471205"
        title="Google+">
        <i class="icon-gplus"></i>
      </a>
    </div>
  </div>
</div>


    

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-27675533-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
